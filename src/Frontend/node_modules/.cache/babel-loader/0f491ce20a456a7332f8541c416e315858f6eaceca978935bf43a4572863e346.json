{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ergas/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ergas/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ergas/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import\"./Register.scss\";import BacdropImage from'../../Assets/Images/photo_2023-10-19_07-28-40.jpg';import{NavLink}from'react-router-dom';import Delay from'../Delay/Delay';import Data from'../../Utils/Data';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(){var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),emailValue=_useState4[0],setEmailValue=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),nameValue=_useState6[0],setNameValue=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordValue=_useState8[0],setPasswordValue=_useState8[1];// const allowedCharacters = /[0-9+]/;\n// function handleInput(e) {\n//     let inputPhoneNumber = e.target.value;\n// inputPhoneNumber = inputPhoneNumber.replace(/[^0-9]+/g, '');\n// // Format the phone number\n// let formattedPhoneNumber = '';\n// if (inputPhoneNumber.length > 0) {\n//   formattedPhoneNumber = `+${inputPhoneNumber.slice(0, 3)} (${inputPhoneNumber.slice(\n//     3,\n//     5\n//   )}) ${inputPhoneNumber.slice(5, 8)}-${inputPhoneNumber.slice(8, 10)}-${inputPhoneNumber.slice(10, 12)}`;\n// }\n// }\n// function handleKeyDown(e) {\n//     if (e.key === 'Backspace') {\n//         setPhonenNumber(\"\")\n//         return;\n//     }\n// }\nuseEffect(function(){setIsLoading(false);var delay=1000;/*#__PURE__*/_jsx(Delay,{});var redirectTimeout=setTimeout(function(){setIsLoading(true);},delay);return function(){clearTimeout(redirectTimeout);};},[]);function postLoginData(_x){return _postLoginData.apply(this,arguments);}function _postLoginData(){_postLoginData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var cur;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:evt.preventDefault();if(!(emailValue.includes(\"@gmail.com\")||emailValue.includes(\"@mail.ru\"))){_context.next=5;break;}cur={name:nameValue,email:emailValue,password:passwordValue,role:2};_context.next=5;return Data.PostRegister(cur).then(function(response){localStorage.setItem(\"email\",nameValue);navigate(\"/\");});case 5:case\"end\":return _context.stop();}},_callee);}));return _postLoginData.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:!isLoading?/*#__PURE__*/_jsx(Delay,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"login-image\",src:BacdropImage,alt:\"LoginImage\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-value\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:postLoginData,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputbox\",children:[/*#__PURE__*/_jsx(\"input\",{required:true,value:nameValue,onChange:function onChange(i){return setNameValue(i.target.value);},type:\"text\",name:\"numberr\",id:\"\"}),/*#__PURE__*/_jsx(\"label\",{for:\"numberr\",children:\"Full Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputbox\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(i){return setEmailValue(i.target.value);},value:emailValue,required:true,type:\"email\",name:\"email\",id:\"\"}),/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputbox\",children:[/*#__PURE__*/_jsx(\"input\",{required:true,onChange:function onChange(i){return setPasswordValue(i.target.value);},value:passwordValue,type:\"password\",name:\"password\",id:\"\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"forget\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Forgot password? \",/*#__PURE__*/_jsx(\"a\",{children:\"New password\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(\"div\",{className:\"register\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"No account? \",/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"\".concat(function(_ref){var isActive=_ref.isActive,isPending=_ref.isPending;return isPending?\"pending\":isActive?\"active\":\"\";},\" a\"),children:\"Log in\"})]})})]})})})})})]})});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","BacdropImage","NavLink","Delay","Data","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","navigate","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","emailValue","setEmailValue","_useState5","_useState6","nameValue","setNameValue","_useState7","_useState8","passwordValue","setPasswordValue","delay","redirectTimeout","setTimeout","clearTimeout","postLoginData","_x","_postLoginData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","evt","cur","wrap","_callee$","_context","prev","next","preventDefault","includes","name","email","password","role","PostRegister","then","response","localStorage","setItem","stop","children","className","src","alt","onSubmit","required","value","onChange","i","target","type","id","for","to","concat","_ref","isActive","isPending"],"sources":["C:/Users/ergas/OneDrive/Рабочий стол/Frontend/src/Components/Login&Register&Admin/Register.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport \"./Register.scss\"\r\nimport BacdropImage from '../../Assets/Images/photo_2023-10-19_07-28-40.jpg'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Delay from '../Delay/Delay'\r\nimport Data from '../../Utils/Data'\r\nexport default function Register() {\r\n    const navigate = useNavigate();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [emailValue, setEmailValue] = useState(\"\")\r\n    const [nameValue, setNameValue] = useState(\"\")\r\n    const [passwordValue, setPasswordValue] = useState(\"\")\r\n    // const allowedCharacters = /[0-9+]/;\r\n    // function handleInput(e) {\r\n        //     let inputPhoneNumber = e.target.value;\r\n        // inputPhoneNumber = inputPhoneNumber.replace(/[^0-9]+/g, '');\r\n        // // Format the phone number\r\n        // let formattedPhoneNumber = '';\r\n        // if (inputPhoneNumber.length > 0) {\r\n        //   formattedPhoneNumber = `+${inputPhoneNumber.slice(0, 3)} (${inputPhoneNumber.slice(\r\n        //     3,\r\n        //     5\r\n        //   )}) ${inputPhoneNumber.slice(5, 8)}-${inputPhoneNumber.slice(8, 10)}-${inputPhoneNumber.slice(10, 12)}`;\r\n        // }\r\n    // }\r\n    // function handleKeyDown(e) {\r\n    //     if (e.key === 'Backspace') {\r\n    //         setPhonenNumber(\"\")\r\n    //         return;\r\n    //     }\r\n    // }\r\n    useEffect(() => {\r\n        setIsLoading(false)\r\n        const delay = 1000;\r\n        <Delay />\r\n        const redirectTimeout = setTimeout(() => {\r\n            setIsLoading(true)\r\n        }, delay);\r\n\r\n        return () => {\r\n            clearTimeout(redirectTimeout);\r\n        };\r\n    }, [])\r\n    async function postLoginData(evt) {\r\n        evt.preventDefault()\r\n        if (emailValue.includes(\"@gmail.com\") || emailValue.includes(\"@mail.ru\")) {\r\n            let cur = {\r\n                name: nameValue,\r\n                email: emailValue,\r\n                password: passwordValue,\r\n                role: 2,\r\n            }\r\n            await Data.PostRegister(cur)\r\n            .then(response =>{\r\n                localStorage.setItem(\"email\", nameValue)\r\n                navigate(\"/\")\r\n            })\r\n        }\r\n        \r\n    }\r\n    return (\r\n        <div>\r\n            {(!isLoading) ? <Delay /> : <>\r\n                <img className='login-image' src={BacdropImage} alt=\"LoginImage\" />\r\n                <div>\r\n                    <section>\r\n                        <div className=\"form-box\">\r\n                            <div className=\"form-value\">\r\n                                <form onSubmit={postLoginData}>\r\n                                    <h2>Register</h2>\r\n                                    <div className=\"inputbox\">\r\n                                        <input required value={nameValue} onChange={(i) => setNameValue(i.target.value)} type=\"text\" name=\"numberr\" id=\"\" />\r\n                                        <label for=\"numberr\">Full Name</label>\r\n                                    </div>\r\n                                    <div className=\"inputbox\">\r\n                                        <input onChange={(i) => setEmailValue(i.target.value)} value={emailValue} required type=\"email\" name=\"email\" id=\"\" />\r\n                                        <label for=\"email\">Email</label>\r\n                                    </div>\r\n                                    <div className=\"inputbox\">\r\n                                        <input required onChange={(i) => setPasswordValue(i.target.value)} value={passwordValue} type=\"password\" name=\"password\" id=\"\" />\r\n                                        <label for=\"password\">Password</label>\r\n                                    </div>\r\n                                    <div className=\"forget\">\r\n                                        <label>Forgot password? <a>New password</a></label>\r\n                                    </div>\r\n                                    <button type='submit'>Register</button>\r\n                                    <div className=\"register\">\r\n                                        <p>No account? <NavLink to='/login' className={`${({ isActive, isPending }) => isPending ? \"pending\" : isActive ? \"active\" : \"\"} a`}>Log in</NavLink></p>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n            </>}\r\n\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}