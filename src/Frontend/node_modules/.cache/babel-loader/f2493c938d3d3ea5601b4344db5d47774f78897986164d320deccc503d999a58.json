{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ergas/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ergas/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ergas/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,Profiler}from'react';import{useNavigate}from'react-router-dom';import Delay from'../Delay/Delay';import BacdropImage from'../../Assets/Images/photo_2023-10-19_07-28-40.jpg';import\"./Login.scss\";import{NavLink}from\"react-router-dom\";import Data from'../../Utils/Data';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),emailValue=_useState4[0],setEmailValue=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),nameValue=_useState6[0],setNameValue=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordValue=_useState8[0],setPasswordValue=_useState8[1];var postLoginData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var cur;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:evt.preventDefault();if(emailValue.includes(\"@gmail.com\")||emailValue.includes(\"@mail.ru\")){cur={name:nameValue,email:emailValue,password:passwordValue,role:2};Data.PostLogin(cur).then(function(response){localStorage.setItem(\"email\",nameValue);localStorage.setItem(\"token\",response);navigate(\"/\");// window.location.reload()\n});}case 2:case\"end\":return _context.stop();}},_callee);}));return function postLoginData(_x){return _ref.apply(this,arguments);};}();useEffect(function(){setIsLoading(false);var delay=1000;/*#__PURE__*/_jsx(Delay,{});var redirectTimeout=setTimeout(function(){setIsLoading(true);},delay);return function(){clearTimeout(redirectTimeout);};},[]);return/*#__PURE__*/_jsx(\"div\",{children:!isLoading?/*#__PURE__*/_jsx(Delay,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"login-image\",src:BacdropImage,alt:\"LoginImage\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-value\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:postLoginData,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputbox\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(i){return setNameValue(i.target.value);},required:true,type:\"text\",name:\"name\",id:\"\"}),/*#__PURE__*/_jsx(\"label\",{for:\"name\",children:\"Full Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputbox\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(i){return setEmailValue(i.target.value);},required:true,type:\"email\",name:\"email\",id:\"\"}),/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputbox\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(i){return setPasswordValue(i.target.value);},required:true,type:\"password\",name:\"password\",id:\"\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"forget\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Forgot password? \",/*#__PURE__*/_jsx(NavLink,{to:\"/forgotpasswword\",className:\"\".concat(function(_ref2){var isActive=_ref2.isActive,isPending=_ref2.isPending;return isPending?\"pending\":isActive?\"active\":\"\";},\" a\"),children:\"New password\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log in\"}),/*#__PURE__*/_jsx(\"div\",{className:\"register\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"No account? \",/*#__PURE__*/_jsx(NavLink,{to:\"/register\",className:\"\".concat(function(_ref3){var isActive=_ref3.isActive,isPending=_ref3.isPending;return isPending?\"pending\":isActive?\"active\":\"\";},\" a\"),children:\"Register\"})]})})]})})})})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Profiler","useNavigate","Delay","BacdropImage","NavLink","Data","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","navigate","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","emailValue","setEmailValue","_useState5","_useState6","nameValue","setNameValue","_useState7","_useState8","passwordValue","setPasswordValue","postLoginData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","evt","cur","wrap","_callee$","_context","prev","next","preventDefault","includes","name","email","password","role","PostLogin","then","response","localStorage","setItem","stop","_x","apply","arguments","delay","redirectTimeout","setTimeout","clearTimeout","children","className","src","alt","onSubmit","onChange","i","target","value","required","type","id","for","to","concat","_ref2","isActive","isPending","_ref3"],"sources":["C:/Users/ergas/OneDrive/Рабочий стол/Frontend/src/Components/Login&Register&Admin/Login.jsx"],"sourcesContent":["import React, { useState, useEffect, Profiler } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport Delay from '../Delay/Delay'\r\nimport BacdropImage from '../../Assets/Images/photo_2023-10-19_07-28-40.jpg'\r\nimport \"./Login.scss\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Data from '../../Utils/Data'\r\nexport default function Login() {\r\n  const navigate = useNavigate();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [emailValue, setEmailValue] = useState(\"\")\r\n  const [nameValue, setNameValue] = useState(\"\")\r\n  const [passwordValue, setPasswordValue] = useState(\"\")\r\n  const postLoginData = async (evt) => {\r\n    evt.preventDefault()\r\n    if (emailValue.includes(\"@gmail.com\") || emailValue.includes(\"@mail.ru\")) {\r\n      let cur = {\r\n        name: nameValue,\r\n        email: emailValue,\r\n        password: passwordValue,\r\n        role: 2,\r\n      }\r\n      Data.PostLogin(cur)\r\n        .then(response => {\r\n          localStorage.setItem(\"email\", nameValue)\r\n          localStorage.setItem(\"token\", response)\r\n          navigate(\"/\")\r\n          // window.location.reload()\r\n        })\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    setIsLoading(false)\r\n    const delay = 1000;\r\n    <Delay />\r\n    const redirectTimeout = setTimeout(() => {\r\n      setIsLoading(true)\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(redirectTimeout);\r\n    };\r\n  }, [])\r\n  return (\r\n    <div>\r\n      {(!isLoading)\r\n        ?\r\n        <Delay />\r\n        :\r\n        <>\r\n          <img className='login-image' src={BacdropImage} alt=\"LoginImage\" />\r\n          <div>\r\n            <section>\r\n              <div className=\"form-box\">\r\n                <div className=\"form-value\">\r\n                  <form onSubmit={postLoginData}>\r\n                    <h2>Login</h2>\r\n                    <div className=\"inputbox\">\r\n                      <input onChange={(i) => setNameValue(i.target.value)} required type=\"text\" name=\"name\" id=\"\" />\r\n                      <label for=\"name\">Full Name</label>\r\n                    </div>\r\n                    <div className=\"inputbox\">\r\n                      <input onChange={(i) => setEmailValue(i.target.value)} required type=\"email\" name=\"email\" id=\"\" />\r\n                      <label for=\"email\">Email</label>\r\n                    </div>\r\n                    <div className=\"inputbox\">\r\n                      <input onChange={(i) => setPasswordValue(i.target.value)} required type=\"password\" name=\"password\" id=\"\" />\r\n                      <label for=\"password\">Password</label>\r\n                    </div>\r\n                    <div className=\"forget\">\r\n                      <label>Forgot password? <NavLink to='/forgotpasswword' className={`${({ isActive, isPending }) => isPending ? \"pending\" : isActive ? \"active\" : \"\"} a`} >New password</NavLink></label>\r\n                    </div>\r\n                    <button type='submit'>Log in</button>\r\n                    <div className=\"register\">\r\n                      <p>No account? <NavLink to='/register' className={`${({ isActive, isPending }) => isPending ? \"pending\" : isActive ? \"active\" : \"\"} a`}>Register</NavLink></p>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </>}\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}